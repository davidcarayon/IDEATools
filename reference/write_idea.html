<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write IDEA4 results and graphs to local disc — write_idea • IDEATools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write IDEA4 results and graphs to local disc — write_idea"><meta property="og:description" content="This function allows the user to write IDEA4 results either as local PNG files or compiled in reports."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IDEATools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.4.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Fonctions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/decision_rules.html">About decision rules</a>
    </li>
    <li>
      <a href="../articles/colored_trees.html">About colored trees</a>
    </li>
    <li>
      <a href="../articles/utils.html">Utility functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper"></span>
     
    Changelog
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/davidcarayon/IDEATools" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://methode-idea.org/" class="external-link">
    <span class="fa fa-info"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write IDEA4 results and graphs to local disc</h1>
    <small class="dont-index">Source: <a href="https://github.com/davidcarayon/IDEATools/blob/HEAD/R/write_idea.R" class="external-link"><code>R/write_idea.R</code></a></small>
    <div class="hidden name"><code>write_idea.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows the user to write IDEA4 results either as local PNG files or compiled in reports.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_idea</span><span class="op">(</span></span>
<span>  <span class="va">IDEA_plots</span>,</span>
<span>  <span class="va">output_directory</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"local"</span>, <span class="st">"report"</span><span class="op">)</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dpi <span class="op">=</span> <span class="fl">320</span>,</span>
<span>  report_format <span class="op">=</span> <span class="st">"docx"</span>,</span>
<span>  append <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  input_file_append <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>IDEA_plots</dt>
<dd><p>an IDEA_plots or IDEA_group_plots object from a <code><a href="plot_idea.html">plot_idea()</a></code> call.</p></dd>


<dt>output_directory</dt>
<dd><p>the desired output directory for the rendered reports and/or plots. Defaults to "IDEATools_output"</p></dd>


<dt>type</dt>
<dd><p>the type of output to produce. Can be either "report" to produce compiled reports or "local" to write raw plots as PNG files.</p></dd>


<dt>prefix</dt>
<dd><p>a prefix which will be added to output files names. Typically, the name of the farm. Ignored in the case of a group analysis : The <code>metadata$MTD_01</code> field will then be used to identify each farm.</p></dd>


<dt>dpi</dt>
<dd><p>ggplot output resolution.</p></dd>


<dt>report_format</dt>
<dd><p>a string indicating the output format if <code>type = "report"</code>. Can be a single format (e.g <code>"pdf"</code>) or multiple formats (e.g. <code>c("pdf","xlsx")</code>). Possible formats are "pdf", "docx", "pptx" and "xlsx"</p></dd>


<dt>append</dt>
<dd><p>If the input is an xlsx format, should the individual output be appended to the original file ?</p></dd>


<dt>input_file_append</dt>
<dd><p>file path to an xslx IDEA data spreadsheet</p></dd>


<dt>quiet</dt>
<dd><p>A command to remove console printing.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Reports and/or raw plots in <code>output_directory</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function automatically creates in <code>output_directory</code> a subdirectory named after the system date for users to use the same output_directory for multiple diagnosis.</p>
<p>Inputs of class <code>IDEA_plots</code> can be generated by a classic <code>read_idea() |&gt; compute_idea() |&gt; plot_idea()</code> or <code>old_idea() |&gt; plot_idea()</code> individual analysis pipelines. Inputs of class <code>IDEA_group_plots</code> can only be generated by a <code><a href="plot_idea.html">plot_idea()</a></code> call in a group analysis conducted by <code>diag_idea</code>.</p>
<p>In the case of an individual analysis, another subdirectory is created with <code>prefix</code> as a name so that analyses are not mixed up. The user can choose if output should be raw plots (that can be used in custom reports) or pre-compiled reports with a large variety of available formats.</p>
<p>In the case of a group analysis, another subdirectory is created with a name like "Groupe_number_of_farms" so that analyses are not mixed up. The user can again choose if output should be raw plots or pre-compiled reports.</p>
<p>If the <code>report_format</code> argument is set to either "docx" or "pptx", the report will be rendered using the rmarkdown package (and officedown/officer packages for the docx output) using a template stored in this package. For "pdf" output, LaTeX will be called with the rmarkdown package. For "xlsx" output, the openxlsx package will be used to sequentially produce Excel worksheets and files, using an internal R function.</p>
<p>Please note that an error will be produced if the input object does not contain all three "dimensions","trees" and "radars" entries in the case of an individual analysis and if <code>type = "report"</code>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://davidcarayon.github.io/IDEATools/index.html" class="external-link">IDEATools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"example_data/idea_example_1.json"</span>, package <span class="op">=</span> <span class="st">"IDEATools"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_idea.html">read_idea</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">computed_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_idea.html">compute_idea</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Only plotting the radars as a minimal example</span></span></span>
<span class="r-in"><span><span class="va">idea_plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="plot_idea.html">plot_idea</a></span><span class="op">(</span><span class="va">computed_data</span>, choices <span class="op">=</span> <span class="st">"radars"</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co"># Find your temporary directory</span></span></span>
<span class="r-in"><span><span class="va">tempdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Export as raw plots to your tempdir</span></span></span>
<span class="r-in"><span><span class="fu">write_idea</span><span class="op">(</span><span class="va">idea_plots</span>,</span></span>
<span class="r-in"><span>  output_directory <span class="op">=</span> <span class="va">tempdir</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"local"</span>,</span></span>
<span class="r-in"><span>  prefix <span class="op">=</span> <span class="st">"myFarm"</span>,</span></span>
<span class="r-in"><span>  dpi <span class="op">=</span> <span class="fl">20</span> <span class="co"># Can be much higher</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Production des 1 types de graphiques demandés</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Production des graphiques radars...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Les graphiques radars ont été exportés à l'adresse '/tmp/RtmpBEokXh/2023-03-28/myFarm/Propriétés/Radars' (2s)</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Carayon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

