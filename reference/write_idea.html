<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write IDEA4 results and graphs to local disc — write_idea • IDEATools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write IDEA4 results and graphs to local disc — write_idea" />
<meta property="og:description" content="This function allows the user to write IDEA4 results either as local PNG files or compiled in reports." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IDEATools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Fonctions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ideatools_advanced_fr.html">Présentation d'IDEATools</a>
    </li>
    <li>
      <a href="../articles/decision_rules.html">About decision rules</a>
    </li>
    <li>
      <a href="../articles/colored_trees.html">About colored trees</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/davidcarayon/IDEATools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://idea.chlorofil.fr/idea-version-4.html">
    <span class="fa fa-info"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write IDEA4 results and graphs to local disc</h1>
    
    <div class="hidden name"><code>write_idea.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows the user to write IDEA4 results either as local PNG files or compiled in reports.</p>
    </div>

    <pre class="usage"><span class='fu'>write_idea</span><span class='op'>(</span>
  <span class='va'>IDEA_plots</span>,
  output_directory <span class='op'>=</span> <span class='st'>"IDEATools_output"</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"local"</span>, <span class='st'>"report"</span><span class='op'>)</span>,
  prefix <span class='op'>=</span> <span class='cn'>NULL</span>,
  dpi <span class='op'>=</span> <span class='fl'>320</span>,
  report_format <span class='op'>=</span> <span class='st'>"docx"</span>,
  quiet <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>IDEA_plots</th>
      <td><p>an IDEA_plots or IDEA_group_plots object from a <code><a href='plot_idea.html'>plot_idea()</a></code> call.</p></td>
    </tr>
    <tr>
      <th>output_directory</th>
      <td><p>the desired output directory for the rendered reports and/or plots. Defaults to "IDEATools_output"</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>the type of output to produce. Can be either "report" to produce compiled reports or "local" to write raw plots as PNG files.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>a prefix which will be added to output files names. Typically, the name of the farm. Ignored in the case of a group analysis : The <code>metadata$MTD_01</code> field will then be used to identify each farm.</p></td>
    </tr>
    <tr>
      <th>dpi</th>
      <td><p>ggplot output resolution.</p></td>
    </tr>
    <tr>
      <th>report_format</th>
      <td><p>a string indicating the output format if <code>type = "report"</code>. Can be a single format (e.g <code>"pdf"</code>) or multiple formats (e.g. <code><a href='https://rdrr.io/r/base/c.html'>c("pdf","docx")</a></code>). Possible formats are "pdf","docx","odt","pptx","xlsx" and "html".</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>A command to remove console printing.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Reports and/or raw plots in <code>output_directory</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function automatically creates in <code>output_directory</code> a subdirectory named after the system date for users to use the same output_directory for multiple diagnosis.</p>
<p>Inputs of class <code>IDEA_plots</code> can be generated by a classic <code>read_idea() %&gt;% compute_idea() %&gt;% plot_idea()</code> or <code>old_idea() %&gt;% plot_idea()</code> individual analysis pipelines. Inputs of class <code>IDEA_group_plots</code> can only be generated by a <code><a href='plot_idea.html'>plot_idea()</a></code> call in a group analysis conducted by <code>diag_idea</code>.</p>
<p>In the case of an individual analysis, another subdirectory is created with <code>prefix</code> as a name so that analyses are not mixed up. The user can choose if output should be raw plots (that can be used in custom reports) or pre-compiled reports with a large variety of available formats.</p>
<p>In the case of a group analysis, another subdirectory is created with a name like "Groupe_number_of_farms" so that analyses are not mixed up. The user can again choose if output should be raw plots or pre-compiled reports.</p>
<p>If the <code>report_format</code> argument is set to either "docx", "odt" or "pptx", the report will be rendered using the rmarkdown package (and officedown/officer packages for the docx output) using a template stored in this package. For "html" and "pdf" output, the pagedown package will be used to produce a clean paged HTML report using CSS files stored in this package, which can be converted to PDF using chrome print. For "xlsx" output, the openxlsx package will be used to sequentially produce Excel worksheets and files, using an internal R function.</p>
<p>Please note that an error will be produced if the input object does not contain all three "dimensions","trees" and "radars" entries in the case of an individual analysis and if <code>type = "report"</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>IDEATools</span><span class='op'>)</span>
<span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"idea_example.json"</span>, package <span class='op'>=</span> <span class='st'>"IDEATools"</span><span class='op'>)</span>
<span class='va'>my_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='read_idea.html'>read_idea</a></span><span class='op'>(</span><span class='va'>path</span><span class='op'>)</span>
<span class='va'>computed_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='compute_idea.html'>compute_idea</a></span><span class='op'>(</span><span class='va'>my_data</span><span class='op'>)</span>
<span class='va'>idea_plots</span> <span class='op'>&lt;-</span> <span class='fu'><a href='plot_idea.html'>plot_idea</a></span><span class='op'>(</span><span class='va'>computed_data</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: failed to load cairo DLL</span></div><div class='output co'>#&gt; <span class='error'>Error: Can't add `ggplot2::ggsave(temp_pdf, dpi = 320, width = 10.1, height = 7.53, ` to a ggplot object.</span>
#&gt; <span class='error'>* Can't add `    device = cairo_pdf)` to a ggplot object.</span></div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># Find your temporary directory</span>
<span class='va'>tempdir</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Export as raw plots to your tempdir.</span>
<span class='fu'>write_idea</span><span class='op'>(</span><span class='va'>idea_plots</span>,
  output_directory <span class='op'>=</span> <span class='va'>tempdir</span>, type <span class='op'>=</span> <span class='st'>"local"</span>,
  prefix <span class='op'>=</span> <span class='st'>"myFarm"</span>, dpi <span class='op'>=</span> <span class='fl'>300</span>
<span class='op'>)</span>

<span class='co'># Export as docx/odt reports to your tempdir.</span>
<span class='fu'>write_idea</span><span class='op'>(</span><span class='va'>idea_plots</span>,
  output_directory <span class='op'>=</span> <span class='va'>tempdir</span>, prefix <span class='op'>=</span> <span class='st'>"myFarm"</span>,
  type <span class='op'>=</span> <span class='st'>"report"</span>, dpi <span class='op'>=</span> <span class='fl'>300</span>, report_format <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"pdf"</span>, <span class='st'>"docx"</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Carayon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


